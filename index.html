<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1020" />
  <title>ุณุฑุงุฌ</title>

  <!-- ุฎุท ุนุฑุจู (ุงุฎุชูุงุฑู) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- FX Canvas -->
  <canvas id="fx" aria-hidden="true"></canvas>

  <!-- Top Bar -->
  <header class="topbar glass">
    <div class="brand">
      <div class="logo3d" aria-hidden="true">
        <span class="orb"></span>
        <span class="ring"></span>
      </div>
      <div class="brandText">
        <div class="brandName">ุณุฑุงุฌ</div>
        <div class="brandSub">ููุงู โข ูุคูุช โข ูุชุฌุฑ โข ุฏูุงุชุฑ โข ุฅุญุตุงุฆูุงุช</div>
      </div>
    </div>

    <div class="topActions">
      <div class="chip coins" title="ููููุฒ">
        <span class="ic">๐ช</span>
        <span id="coin-balance">0</span>
      </div>

      <button class="btn ghost" id="btn-export" title="ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ">ุชุตุฏูุฑ</button>

      <label class="btn ghost file">
        ุงุณุชูุฑุงุฏ
        <input id="import-file" type="file" accept="application/json" />
      </label>

      <button class="btn ghost" id="btn-import" title="ุชุฃููุฏ ุงูุงุณุชูุฑุงุฏ">ุชุฃููุฏ ุงูุงุณุชูุฑุงุฏ</button>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav glass" aria-label="ุงูุชููู">
    <button class="navBtn active" data-tab="tab-home"><span class="navIc">๐</span><span class="navTx">ุงูุฑุฆูุณูุฉ</span></button>
    <button class="navBtn" data-tab="tab-subjects"><span class="navIc">๐</span><span class="navTx">ุงูููุงุฏ</span></button>
    <button class="navBtn" data-tab="tab-timer"><span class="navIc">โณ</span><span class="navTx">ุงููุคูุช</span></button>
    <button class="navBtn" data-tab="tab-notebooks"><span class="navIc">๐</span><span class="navTx">ุงูุฏูุงุชุฑ</span></button>
    <button class="navBtn" data-tab="tab-store"><span class="navIc">๐๏ธ</span><span class="navTx">ุงููุชุฌุฑ</span></button>
    <button class="navBtn" data-tab="tab-stats"><span class="navIc">๐</span><span class="navTx">ุฅุญุตุงุฆูุงุช</span></button>
    <button class="navBtn" data-tab="tab-settings"><span class="navIc">โ๏ธ</span><span class="navTx">ุฅุนุฏุงุฏุงุช</span></button>
  </nav>

  <!-- Main -->
  <main class="wrap" id="app">

    <!-- HOME -->
    <section class="tab active" id="tab-home">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ููุญุฉ ุงูููู</h2>
            <div class="miniRow">
              <span class="pill">ุจุฏูู ููุงุฏ ุงูุชุฑุงุถูุฉ</span>
              <span class="pill">ุชุฌุฑุจุฉ ุซููุงุช ูุฌุงููุฉ</span>
            </div>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="kpiK">ุฌูุณุงุช</div>
              <div class="kpiV" id="kpi-sessions">0</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ุชุฑููุฒ ุงูููู</div>
              <div class="kpiV" id="kpi-today-focus">0ุฏ</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ููุงู ุงูููู</div>
              <div class="kpiV" id="kpi-today-tasks">0/0</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ุฃุฎุทุงุก ูุตุญุญุฉ</div>
              <div class="kpiV" id="kpi-fixes">0</div>
            </div>
          </div>

          <div class="progressWrap">
            <div class="progressTop">
              <div class="muted">ุฎุท ุงูุฅูุฌุงุฒ</div>
              <div class="progressVal" id="progress-val">0%</div>
            </div>
            <div class="progressBar" aria-label="progress">
              <div class="progressFill" id="progress-fill"></div>
              <div class="progressShine" aria-hidden="true"></div>
            </div>
            <div class="progressHint muted" id="progress-hint">ุงุจุฏุฃ ุจุฅุถุงูุฉ ูุงุฏุฉ ูููุงููุง ุงูููููุฉ.</div>
          </div>

          <div class="row">
            <button class="btn primary" id="home-go-subjects">ุฃุถู ููุงุฏู</button>
            <button class="btn" id="home-go-timer">ุงุจุฏุฃ ุฌูุณุฉ</button>
            <button class="btn ghost" id="home-go-store">ูุชุฌุฑ ุงูุชุฌุฑุจุฉ</button>
          </div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุงููุงุฏุฉ ุงููุดุทุฉ</h2>
            <button class="btn ghost" id="btn-pick-active">ุงุฎุชูุงุฑ</button>
          </div>

          <div class="activeSubject">
            <div class="activeName" id="active-subject-name">โ</div>
            <div class="activeMeta muted" id="active-subject-meta">ุงุฎุชุฑ ูุงุฏุฉ ูุชูุนูู ุงููุคูุช ูุงูููุงู.</div>
          </div>

          <div class="divider"></div>

          <div class="row between">
            <h3>ููุงู ุงูููู</h3>
            <button class="btn ghost" id="btn-add-task-quick">ุฅุถุงูุฉ</button>
          </div>

          <div id="home-tasks" class="tasks"></div>

          <div class="divider"></div>

          <div class="row">
            <button class="btn" id="home-reset-today">ุชุตููุฑ ุงูููู</button>
            <button class="btn ghost" id="home-open-notebooks">ูุชุญ ุงูุฏูุงุชุฑ</button>
          </div>
        </section>
      </div>
    </section>

    <!-- SUBJECTS -->
    <section class="tab" id="tab-subjects">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุงูููุงุฏ</h2>
            <span class="pill">ุญุฏ ุฃูุตู: 8</span>
          </div>

          <div class="row">
            <button class="btn primary" id="btn-add-subject">ุฅุถุงูุฉ ูุงุฏุฉ</button>
            <button class="btn ghost" id="btn-open-active-from-list">ูุชุญ ุงููุดุทุฉ</button>
          </div>

          <div id="subjects-list" class="list"></div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุชูุงุตูู ุงููุงุฏุฉ</h2>
            <div class="miniRow">
              <span class="pill ghost" id="subject-badge">โ</span>
            </div>
          </div>

          <div id="subject-editor" class="editorShell">
            <div class="emptyState">
              ุงุฎุชุฑ ูุงุฏุฉ ูู ุงููุงุฆูุฉ ูุนุฑุถ ุงูููุงูุ ุงููุคูุชุ ูุงูุฅุญุตุงุฆูุงุช.
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- TIMER -->
    <section class="tab" id="tab-timer">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุงููุคูุช</h2>
            <button class="btn ghost" id="timer-pick-active">ุชุบููุฑ ุงููุงุฏุฉ</button>
          </div>

          <div class="muted" id="timer-active-line">โ</div>

          <div class="timerStage" id="timer-stage" data-skin="none">
            <div class="timer3d">
              <div class="timerGlow" aria-hidden="true"></div>
              <div class="timerFace">
                <div class="timerMode" id="timer-mode">FOCUS</div>
                <div class="timerTime" id="timer-time">25:00</div>

                <div class="timerProgress">
                  <div class="tProgBar"><div class="tProgFill" id="timer-prog"></div></div>
                </div>

                <div class="timerBtns">
                  <button class="btn primary" id="timer-toggle">ุจุฏุก</button>
                  <button class="btn" id="timer-reset">ุฅุนุงุฏุฉ</button>
                  <button class="btn ghost" id="timer-switch">ุชุจุฏูู</button>
                </div>
              </div>
            </div>
          </div>

          <div class="timerSettings">
            <label class="field">
              <span>Focus</span>
              <input type="number" id="timer-focus-min" min="1" max="180" value="25" />
            </label>
            <label class="field">
              <span>Break</span>
              <input type="number" id="timer-break-min" min="1" max="60" value="5" />
            </label>
            <label class="field switch">
              <span>ุตูุช</span>
              <input id="timer-sound" type="checkbox" checked />
              <i></i>
            </label>
            <button class="btn" id="timer-open-store">ูุชุฌุฑ ุงูุชุงููุฑ</button>
          </div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ููุงุญุธุงุช ุณุฑูุนุฉ</h2>
            <span class="pill ghost">ูุญููุฉ ุนูู ุฌูุงุฒู</span>
          </div>

          <textarea id="timer-notes" class="notes" placeholder="ุงูุชุจ ููุฎุต ุงูุฌูุณุฉ ุฃู ููุงุท ููููุฉโฆ"></textarea>
          <div class="row">
            <button class="btn" id="notes-save">ุญูุธ</button>
            <button class="btn ghost" id="notes-clear">ูุณุญ</button>
          </div>

          <div class="divider"></div>

          <h3>ููุฎุต ุณุฑูุน</h3>
          <div class="kpis kpi2">
            <div class="kpi">
              <div class="kpiK">ุฌูุณุงุช</div>
              <div class="kpiV" id="timer-kpi-sessions">0</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ุชุฑููุฒ</div>
              <div class="kpiV" id="timer-kpi-focus">0ุฏ</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ุงุณุชุฑุงุญุงุช</div>
              <div class="kpiV" id="timer-kpi-breaks">0</div>
            </div>
            <div class="kpi">
              <div class="kpiK">ููููุฒ ุงูููู</div>
              <div class="kpiV" id="timer-kpi-coins">0</div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- NOTEBOOKS -->
    <section class="tab" id="tab-notebooks">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุงูุฏูุงุชุฑ</h2>
            <div class="miniRow">
              <span class="pill">ุฏูุงุชุฑ 3D</span>
              <span class="pill ghost">ุงูุชุญ ุฏูุชุฑ ูุชุธูุฑ ุงูุตูุญุงุช</span>
            </div>
          </div>

          <div class="row">
            <button class="btn primary" id="btn-add-notebook">ุฏูุชุฑ ุฌุฏูุฏ</button>
            <button class="btn ghost" id="btn-notebook-store">ูุชุฌุฑ ุฃุบููุฉ</button>
          </div>

          <div id="notebooks-grid" class="notebooksGrid"></div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุงูุฏูุชุฑ ุงูููุชูุญ</h2>
            <button class="btn ghost" id="btn-close-notebook">ุฅุบูุงู</button>
          </div>

          <div id="book-viewer" class="bookViewer">
            <div class="emptyState">
              ุงุฎุชุฑ ุฏูุชุฑ ูู ุงููุณุงุฑ ููุชุญู. ุณูุธูุฑ ุฃููููุดู ุตูุญุงุช.
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- STORE -->
    <section class="tab" id="tab-store">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ูุชุฌุฑ ุงูุฃููุงู ูุงูุฎูููุงุช</h2>
            <div class="miniRow">
              <span class="pill">3 ูุฌุงูู ููุชุฌุฑุจุฉ</span>
              <span class="pill ghost">ูุงูุจุงูู ุจููููุฒ</span>
            </div>
          </div>
          <div id="store-wallpapers" class="storeGrid"></div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ูุชุฌุฑ ุงูุชุงููุฑ</h2>
            <div class="miniRow">
              <span class="pill">20 ุดูู 3D</span>
              <span class="pill ghost">ุชุชูุนูู ุจุนุฏ ุงูุดุฑุงุก</span>
            </div>
          </div>
          <div id="store-timers" class="storeGrid"></div>
        </section>
      </div>

      <div class="grid2" style="margin-top:14px">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ูุชุฌุฑ ุฃุบููุฉ ุงูุฏูุงุชุฑ</h2>
            <div class="miniRow">
              <span class="pill">3 ูุฌุงูู ููุชุฌุฑุจุฉ</span>
              <span class="pill ghost">ูุงูุจุงูู 55 ููููุฒ</span>
            </div>
          </div>
          <div id="store-notebook-covers" class="storeGrid"></div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ูุชุฌุฑ ุฃุบููุฉ ุฏูุชุฑ ุงูุฃุฎุทุงุก</h2>
            <div class="miniRow">
              <span class="pill">3 ูุฌุงูู ููุชุฌุฑุจุฉ</span>
              <span class="pill ghost">ูุงูุจุงูู 55 ููููุฒ</span>
            </div>
          </div>
          <div id="store-error-books" class="storeGrid"></div>
        </section>
      </div>
    </section>

    <!-- STATS -->
    <section class="tab" id="tab-stats">
      <section class="card glass tilt">
        <div class="cardHead">
          <h2>ุงูุฅุญุตุงุฆูุงุช</h2>
          <div class="miniRow">
            <span class="pill ghost">ูุญูู 100%</span>
          </div>
        </div>

        <div id="overall-stats" class="statsGrid"></div>

        <div class="divider"></div>

        <h3>ุชูุฒูุน ุงูููุงุฏ</h3>
        <div id="subjects-stats" class="list"></div>
      </section>
    </section>

    <!-- SETTINGS -->
    <section class="tab" id="tab-settings">
      <div class="grid2">
        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุฅุนุฏุงุฏุงุช ุงููุธูุฑ</h2>
            <span class="pill ghost">ุฃููููุดู + 3D</span>
          </div>

          <div class="settingsGrid">
            <label class="field switch">
              <span>ุฎูููุฉ ูุชุญุฑูุฉ</span>
              <input id="fx-toggle" type="checkbox" checked />
              <i></i>
            </label>

            <label class="field switch">
              <span>ุชุฃุซูุฑ 3D</span>
              <input id="tilt-toggle" type="checkbox" checked />
              <i></i>
            </label>

            <label class="field">
              <span>ุญุณุงุณูุฉ 3D</span>
              <input id="tilt-sensitivity" type="range" min="6" max="18" value="10" />
            </label>

            <label class="field switch">
              <span>ุชูููู ุงูุญุฑูุฉ</span>
              <input id="reduce-motion" type="checkbox" />
              <i></i>
            </label>
          </div>
        </section>

        <section class="card glass tilt">
          <div class="cardHead">
            <h2>ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</h2>
            <span class="pill ghost">ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ</span>
          </div>

          <div class="note">
            ููุตุญ ุฏุงุฆููุง ุจุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ููุช ูุขุฎุฑ ุญุชู ูุง ุชุถูุน ุจูุงูุงุชู.
          </div>

          <div class="row">
            <button class="btn primary" id="btn-reset-soft">ุชุตููุฑ ุงูุฅุญุตุงุฆูุงุช</button>
            <button class="btn danger" id="btn-reset-hard">ุญุฐู ูู ุดูุก</button>
          </div>
        </section>
      </div>
    </section>

  </main>

  <!-- Modal -->
  <div class="modal hidden" id="modal">
    <div class="modalCard glass" id="modal-card">
      <div class="modalHead">
        <h3 id="modal-title">โ</h3>
        <button class="btn ghost" id="modal-close">ุฅุบูุงู</button>
      </div>
      <div id="modal-body"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
