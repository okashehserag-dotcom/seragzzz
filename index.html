<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f0f1a" />
  <title>Serag โ Dashboard</title>

  <link rel="stylesheet" href="style.css" />
  <script src="app.js" defer></script>
</head>

<body>
  <div class="main-container">
    <!-- Tabs Navigation -->
    <nav class="tabs-nav" aria-label="ุงูุชููู">
      <div class="nav-header">
        <h2>Serag</h2>
        <p>Premium Dashboard</p>
      </div>

      <button class="tab-btn active" type="button" data-tab="dashboard" aria-controls="dashboard" aria-selected="true" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
            <rect x="14" y="14" width="7" height="7" rx="1"></rect>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Dashboard</div>
          <div class="tab-subtitle">Overview & Stats</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>

      <button class="tab-btn" type="button" data-tab="timer" aria-controls="timer" aria-selected="false" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Timer</div>
          <div class="tab-subtitle">Study & Break</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>

      <button class="tab-btn" type="button" data-tab="subjects" aria-controls="subjects" aria-selected="false" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5V4.5A2.5 2.5 0 0 1 6.5 2z"></path>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Subjects</div>
          <div class="tab-subtitle">Manage Materials</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>

      <button class="tab-btn" type="button" data-tab="notebooks" aria-controls="notebooks" aria-selected="false" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5V4.5A2.5 2.5 0 0 1 6.5 2z"></path>
            <path d="M8 6h8"></path>
            <path d="M8 10h8"></path>
            <path d="M8 14h6"></path>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Notebooks</div>
          <div class="tab-subtitle">Write & Organize</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>

      <button class="tab-btn" type="button" data-tab="tasks" aria-controls="tasks" aria-selected="false" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 11l3 3L22 4"></path>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Tasks</div>
          <div class="tab-subtitle">To-do & Progress</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>

      <button class="tab-btn" type="button" data-tab="settings" aria-controls="settings" aria-selected="false" role="tab">
        <div class="tab-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
        </div>
        <div class="tab-text">
          <div class="tab-title">Settings</div>
          <div class="tab-subtitle">Preferences</div>
        </div>
        <div class="tab-arrow">
          <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </button>
    </nav>

    <!-- Content -->
    <div class="tabs-content">
      <!-- Dashboard -->
      <section class="tab-panel active" id="dashboard" role="tabpanel" aria-label="Dashboard">
        <div class="panel-header">
          <span class="panel-badge">Overview</span>
          <h1 class="panel-title">Dashboard</h1>
          <p class="panel-description">ูุงุฌูุฉ ูุธููุฉ ูุฎูููุฉโุชุนุทูู ููุฎุต ุณุฑูุน ุนู ุงูุฏุฑุงุณุฉ ูุงูููุงู.</p>
        </div>

        <div class="panel-content">
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="dashWeekMinutes">0</div>
              <div class="stat-label">Minutes / Week</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="dashTasksDone">0%</div>
              <div class="stat-label">Tasks Done</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="dashSubjects">0</div>
              <div class="stat-label">Subjects</div>
            </div>
          </div>

          <div class="content-card">
            <div class="card-header">
              <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                  <polyline points="17 6 23 6 23 12"></polyline>
                </svg>
              </div>
              <h3 class="card-title">Weekly Activity</h3>
            </div>

            <p class="card-text">ุงูุฑุณู ุชุญุช ูุจูู ุฏูุงุฆู ุงูุฏุฑุงุณุฉ ูุขุฎุฑ 7 ุฃูุงู.</p>
            <div class="chart-wrap">
              <canvas id="weekChart" width="920" height="260"></canvas>
            </div>
          </div>

          <div class="quick-actions">
            <button class="qa-btn" type="button" data-go="timer">ุงุจุฏุฃ ุชุงููุฑ</button>
            <button class="qa-btn" type="button" data-go="subjects">ุฃุถู ูุงุฏุฉ</button>
            <button class="qa-btn" type="button" data-go="tasks">ุฃุถู ูููุฉ</button>
          </div>
        </div>
      </section>

      <!-- Timer -->
      <section class="tab-panel" id="timer" role="tabpanel" aria-label="Timer">
        <div class="panel-header">
          <span class="panel-badge">Focus</span>
          <h1 class="panel-title">Timer</h1>
          <p class="panel-description">ุชุงููุฑ ุฃููู (Study/Break) ูุน ุญูุธ ุงูุฌูุณุงุช ููุฅุญุตุงุฆูุงุช.</p>
        </div>

        <div class="panel-content">
          <div class="timer-grid">
            <div class="content-card timer-card">
              <div class="timer-3d" id="timer3d">
                <div class="timer-ring" id="timerRing" style="--p:0"></div>
                <div class="timer-center">
                  <div class="timer-mode" id="timerMode">Study</div>
                  <div class="timer-time" id="timerText">25:00</div>
                  <div class="timer-sub" id="timerSub">โ</div>
                </div>
                <div class="timer-glow"></div>
              </div>

              <div class="timer-actions">
                <button class="btn-primary" type="button" id="btnStartPause">ุจุฏุก</button>
                <button class="btn-ghost" type="button" id="btnReset">Reset</button>
                <button class="btn-ghost" type="button" id="btnSwitchMode">Switch</button>
              </div>
            </div>

            <div class="content-card">
              <div class="card-header">
                <div class="card-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                  </svg>
                </div>
                <h3 class="card-title">Session Setup</h3>
              </div>

              <div class="form-grid">
                <div class="field">
                  <label>Study (min)</label>
                  <input class="input" id="studyMin" type="number" min="1" max="180" value="25" />
                </div>
                <div class="field">
                  <label>Break (min)</label>
                  <input class="input" id="breakMin" type="number" min="1" max="60" value="5" />
                </div>
                <div class="field field-wide">
                  <label>Subject</label>
                  <select class="input" id="timerSubject"></select>
                  <div class="hint" id="timerHint" hidden>ูุงุฒู ุชุถูู ูุงุฏุฉ ุฃููุงู.</div>
                </div>
              </div>

              <div class="mini-note">
                ุงูุฌูุณุฉ ุชูุญูุธ ุชููุงุฆููุง ุนูุฏ ุงูุงูุชูุงุก (Study ููุท) ูุชุธูุฑ ุจุงูุฅุญุตุงุฆูุงุช.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Subjects -->
      <section class="tab-panel" id="subjects" role="tabpanel" aria-label="Subjects">
        <div class="panel-header">
          <span class="panel-badge">Workspace</span>
          <h1 class="panel-title">Subjects</h1>
          <p class="panel-description">ุฃุถู ููุงุฏู (ุญุฏ ุฃูุตู 8) ุจุฏูู ููุงุฏ ุงูุชุฑุงุถูุฉ.</p>
        </div>

        <div class="panel-content">
          <div class="content-card">
            <div class="row-between">
              <div>
                <h3 class="card-title">Add Subject</h3>
                <p class="card-text">ุงูุชุจ ุงุณู ุงููุงุฏุฉ ูุจุณ.</p>
              </div>
              <div class="badge" id="subjectsLeft">8 left</div>
            </div>

            <div class="add-row">
              <input class="input" id="subjectName" placeholder="ูุซุงู: ุฑูุงุถูุงุช" maxlength="22" />
              <button class="btn-primary" type="button" id="btnAddSubject">ุฅุถุงูุฉ</button>
            </div>
          </div>

          <div class="subjects-grid" id="subjectsGrid"></div>

          <div class="empty-state" id="subjectsEmpty">
            <div class="empty-icon">๐</div>
            <div class="empty-title">ูุง ููุฌุฏ ููุงุฏ</div>
            <div class="empty-desc">ุงุจุฏุฃ ุจุฅุถุงูุฉ ุฃูู ูุงุฏุฉ ูุชูุนูู ูู ุงูุฃูุณุงู.</div>
          </div>
        </div>
      </section>

      <!-- Notebooks -->
      <section class="tab-panel" id="notebooks" role="tabpanel" aria-label="Notebooks">
        <div class="panel-header">
          <span class="panel-badge">Notes</span>
          <h1 class="panel-title">Notebooks</h1>
          <p class="panel-description">ุฏูุงุชุฑ 3D ุฌูููุฉ + ูุญุฑุฑ ููุงุญุธุงุช ูุน ุญูุธ ุชููุงุฆู.</p>
        </div>

        <div class="panel-content">
          <div class="content-card">
            <div class="row-between">
              <div>
                <h3 class="card-title">Create Notebook</h3>
                <p class="card-text">ุญุฏ ุฃูุตู 8 ุฏูุงุชุฑ.</p>
              </div>
              <div class="badge" id="notebooksLeft">8 left</div>
            </div>

            <div class="form-grid">
              <div class="field field-wide">
                <label>Title</label>
                <input class="input" id="nbTitle" placeholder="ูุซุงู: ููุฎุต ุงููุญุฏุฉ ุงูุฃููู" maxlength="28" />
              </div>
              <div class="field field-wide">
                <label>Subject (optional)</label>
                <select class="input" id="nbSubject"></select>
              </div>
            </div>
            <button class="btn-primary" type="button" id="btnAddNotebook">ุฅุถุงูุฉ ุงูุฏูุชุฑ</button>
          </div>

          <div class="notebooks-layout">
            <div class="notebooks-grid" id="notebooksGrid"></div>

            <div class="content-card editor-card">
              <div class="row-between">
                <h3 class="card-title" id="editorTitle">Editor</h3>
                <div class="save-indicator" id="saveIndicator">
                  <span class="dot"></span>
                  <span class="txt">ุงุฎุชุฑ ุฏูุชุฑูุง</span>
                </div>
              </div>

              <div class="field">
                <label>Subject</label>
                <select class="input" id="editorSubject"></select>
              </div>

              <textarea class="textarea" id="editorText" placeholder="ุงูุชุจ ููุงุญุธุงุชู ููุง..." disabled></textarea>

              <div class="mini-note">ุงูุญูุธ ูุชู ุชููุงุฆููุงุ ุจุฏูู ูุง ูุตูุฑ โูููุชุดโ.</div>
            </div>
          </div>

          <div class="empty-state" id="notebooksEmpty">
            <div class="empty-icon">๐</div>
            <div class="empty-title">ูุง ููุฌุฏ ุฏูุงุชุฑ</div>
            <div class="empty-desc">ุฃุถู ุฏูุชุฑ ุนุดุงู ุชุจุฏุฃ ุชูุชุจ ููุงุญุธุงุช.</div>
          </div>
        </div>
      </section>

      <!-- Tasks -->
      <section class="tab-panel" id="tasks" role="tabpanel" aria-label="Tasks">
        <div class="panel-header">
          <span class="panel-badge">To-do</span>
          <h1 class="panel-title">Tasks</h1>
          <p class="panel-description">ููุงู ุจุณูุทุฉ ูุฃูููุฉ ูุน ููุชุฑุฉ ุญุณุจ ุงููุงุฏุฉ.</p>
        </div>

        <div class="panel-content">
          <div class="content-card">
            <div class="row-between">
              <div>
                <h3 class="card-title">Add Task</h3>
                <p class="card-text">ุญุฏุฏ ุงููุงุฏุฉ + ุงูุชุจ ุงููููุฉ.</p>
              </div>
              <div class="badge" id="tasksMeta">0/0</div>
            </div>

            <div class="form-grid">
              <div class="field field-wide">
                <label>Subject</label>
                <select class="input" id="taskSubject"></select>
                <div class="hint" id="tasksHint" hidden>ูุงุฒู ุชุถูู ูุงุฏุฉ ุฃููุงู.</div>
              </div>
              <div class="field field-wide">
                <label>Task</label>
                <input class="input" id="taskText" maxlength="44" placeholder="ูุซุงู: ุญู ูุงุฌุจ 3" />
              </div>
            </div>
            <button class="btn-primary" type="button" id="btnAddTask">ุฅุถุงูุฉ</button>
          </div>

          <div class="content-card">
            <div class="row-between">
              <h3 class="card-title">Your Tasks</h3>
              <select class="input input-sm" id="tasksFilter">
                <option value="">ูู ุงูููุงุฏ</option>
              </select>
            </div>

            <div class="tasks-list" id="tasksList"></div>

            <div class="empty-state" id="tasksEmpty">
              <div class="empty-icon">โ</div>
              <div class="empty-title">ูุง ููุฌุฏ ููุงู</div>
              <div class="empty-desc">ุฃุถู ุฃูู ูููุฉ ูุจููุด.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Settings -->
      <section class="tab-panel" id="settings" role="tabpanel" aria-label="Settings">
        <div class="panel-header">
          <span class="panel-badge">Config</span>
          <h1 class="panel-title">Settings</h1>
          <p class="panel-description">ุซูู + ุชุตุฏูุฑ/ุงุณุชูุฑุงุฏ + Reset.</p>
        </div>

        <div class="panel-content">
          <div class="content-card">
            <div class="row-between">
              <div>
                <h3 class="card-title">Appearance</h3>
                <p class="card-text">ุชุจุฏูู ุงููุถุน ุงููุธูู/ุงููุงุชุญ.</p>
              </div>
              <button class="btn-ghost" type="button" id="btnTheme">Toggle Theme</button>
            </div>
          </div>

          <div class="content-card">
            <div class="card-header">
              <div class="card-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
              </div>
              <h3 class="card-title">Backup</h3>
            </div>

            <div class="row-between wrap">
              <button class="btn-primary" type="button" id="btnExport">Export JSON</button>
              <label class="btn-ghost file-btn">
                Import JSON
                <input type="file" id="importFile" accept="application/json" hidden />
              </label>
              <button class="btn-danger" type="button" id="btnResetAll">Reset All</button>
            </div>

            <p class="mini-note">ูู ุงูุจูุงูุงุช ุจุชูุญูุธ ูุญูููุง (LocalStorage) ุนูู ุฌูุงุฒู.</p>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- Toasts -->
  <div class="toasts" id="toasts" aria-live="polite" aria-atomic="true"></div>

  <!-- Modal (fixed & glitch-free) -->
  <div class="modal-backdrop" id="modalBackdrop" hidden></div>
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-hidden="true" hidden>
    <div class="modal-header">
      <div class="modal-title" id="modalTitle">Modal</div>
      <button class="modal-close" id="modalClose" type="button" aria-label="ุฅุบูุงู">โ</button>
    </div>
    <div class="modal-body" id="modalBody"></div>
    <div class="modal-footer" id="modalFooter"></div>
  </div>
</body>
</html>
